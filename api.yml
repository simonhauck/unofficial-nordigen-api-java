openapi: 3.0.3
info:
  title: Nordigen Account Information Services API
  version: 2.0 (v2)
paths:
  /api/v2/accounts/{id}/:
    get:
      operationId: retrieve account metadata
      description: |-
        Access account metadata.

        Information about the account record, such as the processing status and IBAN.

        Account status is recalculated based on the error count in the latest req.
      parameters:
        - in: path
          name: id
          schema:
            type: string
            description: A UUID string identifying this account.
          required: true
      tags:
        - accounts
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountV2'
          description: sample account metadata
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
                AccountNotFoundError:
                  value:
                    summary: 'Account: $ACC_ID not found'
                    detail: ''
                    status_code: 404
                  summary: Account not found error
                  description: Account not found
          description: ''
  /api/v2/accounts/{id}/balances/:
    get:
      operationId: retrieve account balances v2_2
      description: |-
        Access account balances.

        Balances will be returned in Berlin Group PSD2 format.
      parameters:
        - in: path
          name: id
          schema:
            type: string
            description: A UUID string identifying this account.
          required: true
      tags:
        - accounts
      responses:
        '200':
          description: sample account balances
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                InvalidID:
                  value:
                    summary: Invalid Account ID
                    detail: $ACCOUNT_ID is not a valid UUID.
                    status_code: 400
                  summary: Invalid ID
                  description: Invalid Account ID
                DateRangeError:
                  value:
                    summary: Incorrect date range
                    detail: Starting date '2022-01-09' is greater than end date '2021-12-30'. When specifying date range, starting date must precede the end date
                    status_code: 400
                  summary: Date range error
                  description: Incorrect date range in query parameters
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccessExpiredError:
                  value:
                    summary: Couldn't update account balances
                    detail: Access has expired or it has been revoked. To restore access reconnect the account.
                    type: AccessExpiredError
                    status_code: 401
                  description: Couldn't update account balances
                AccountInactiveError:
                  value:
                    summary: Couldn't update account balances
                    detail: Account has been deactivated or it no longer exists.
                    type: AccountInactiveError
                    status_code: 401
                  description: Couldn't update account balances
                FailedAuthentication:
                  value:
                    summary: Couldn't update account balances
                    detail: SSN Verification has failed
                    type: FailedAuthentication
                    status_code: 401
                  description: Couldn't update account balances
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountEUAScopeError:
                  value:
                    summary: End User Agreement (EUA) access scope error
                    detail: EUA doesn't allow access to account balances. Check EUA access scope. Or create new EUA with correct access scope
                    status_code: 403
                  summary: Account EUA scope error
                  description: EUA doesn't allow access to account balances.
                AccountValidEUAError:
                  value:
                    summary: No valid End User Agreement
                    error: Account exists but there is no valid End User Agreement permitting you to access it
                    status_code: 403
                  summary: Account valid EUA error
                  description: Account has no valid End User Agreement
                AccountAccessForbidden:
                  value:
                    summary: Couldn't update account balances
                    detail: Access to account is forbidden. The user might not have the necessary permissions.
                    type: AccountAccessForbidden
                    status_code: 403
                  description: Couldn't update account balances
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
                AccountNotFoundError:
                  value:
                    summary: 'Account: $ACC_ID not found'
                    detail: ''
                    status_code: 404
                  summary: Account not found error
                  description: Account not found
          description: ''
        '409':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountSuspendedError:
                  value:
                    summary: Account suspended
                    detail: This account or its requisition was suspended due to numerous errors that occurred while accessing it.
                    status_code: 409
                  summary: Account suspended error
                  description: Account or its requisition suspended
                AccountStateError:
                  value:
                    id: 3fa85f64-5717-4562-b3fc-2c963f66afa6
                    created: '2021-12-30T15:10:58.650342Z'
                    last_accessed: '2021-12-30T15:10:58.650348Z'
                    iban: string
                    aspsp_identifier: string
                    status: ERROR
                  summary: Account state error
                  description: Account state does not support this operation
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                RateLimitError:
                  value:
                    summary: Couldn't update account balances
                    detail: Daily request limit set by the Institution has been exceeded.
                    type: RateLimitError
                    status_code: 429
                  description: Couldn't update account balances
          description: ''
        '500':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                UnknownRequestError:
                  value:
                    summary: Couldn't update account balances
                    detail: Request to Institution returned an error
                    type: UnknownRequestError
                    status_code: 500
                  description: Couldn't update account balances
          description: ''
        '503':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                ServiceError:
                  value:
                    summary: Couldn't update account balances
                    detail: Institution service unavailable
                    type: ServiceError
                    status_code: 503
                  description: Couldn't update account balances
                ConnectionError:
                  value:
                    summary: Couldn't update account balances
                    detail: Couldn't connect to Institution
                    type: ConnectionError
                    status_code: 503
                  description: Couldn't update account balances
          description: ''
  /api/v2/accounts/{id}/details/:
    get:
      operationId: retrieve account details v2_2
      description: |-
        Access account details.

        Account details will be returned in Berlin Group PSD2 format.
      parameters:
        - in: path
          name: id
          schema:
            type: string
            description: A UUID string identifying this account.
          required: true
      tags:
        - accounts
      responses:
        '200':
          description: sample account details
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                InvalidID:
                  value:
                    summary: Invalid Account ID
                    detail: $ACCOUNT_ID is not a valid UUID.
                    status_code: 400
                  summary: Invalid ID
                  description: Invalid Account ID
                DateRangeError:
                  value:
                    summary: Incorrect date range
                    detail: Starting date '2022-01-09' is greater than end date '2021-12-30'. When specifying date range, starting date must precede the end date
                    status_code: 400
                  summary: Date range error
                  description: Incorrect date range in query parameters
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccessExpiredError:
                  value:
                    summary: Couldn't update account details
                    detail: Access has expired or it has been revoked. To restore access reconnect the account.
                    type: AccessExpiredError
                    status_code: 401
                  description: Couldn't update account details
                AccountInactiveError:
                  value:
                    summary: Couldn't update account details
                    detail: Account has been deactivated or it no longer exists.
                    type: AccountInactiveError
                    status_code: 401
                  description: Couldn't update account details
                FailedAuthentication:
                  value:
                    summary: Couldn't update account details
                    detail: SSN Verification has failed
                    type: FailedAuthentication
                    status_code: 401
                  description: Couldn't update account details
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountEUAScopeError:
                  value:
                    summary: End User Agreement (EUA) access scope error
                    detail: EUA doesn't allow access to account details. Check EUA access scope. Or create new EUA with correct access scope
                    status_code: 403
                  summary: Account EUA scope error
                  description: EUA doesn't allow access to account details.
                AccountValidEUAError:
                  value:
                    summary: No valid End User Agreement
                    error: Account exists but there is no valid End User Agreement permitting you to access it
                    status_code: 403
                  summary: Account valid EUA error
                  description: Account has no valid End User Agreement
                AccountAccessForbidden:
                  value:
                    summary: Couldn't update account details
                    detail: Access to account is forbidden. The user might not have the necessary permissions.
                    type: AccountAccessForbidden
                    status_code: 403
                  description: Couldn't update account details
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
                AccountNotFoundError:
                  value:
                    summary: 'Account: $ACC_ID not found'
                    detail: ''
                    status_code: 404
                  summary: Account not found error
                  description: Account not found
          description: ''
        '409':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountSuspendedError:
                  value:
                    summary: Account suspended
                    detail: This account or its requisition was suspended due to numerous errors that occurred while accessing it.
                    status_code: 409
                  summary: Account suspended error
                  description: Account or its requisition suspended
                AccountStateError:
                  value:
                    id: 3fa85f64-5717-4562-b3fc-2c963f66afa6
                    created: '2021-12-30T15:10:58.650342Z'
                    last_accessed: '2021-12-30T15:10:58.650348Z'
                    iban: string
                    aspsp_identifier: string
                    status: ERROR
                  summary: Account state error
                  description: Account state does not support this operation
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                RateLimitError:
                  value:
                    summary: Couldn't update account details
                    detail: Daily request limit set by the Institution has been exceeded.
                    type: RateLimitError
                    status_code: 429
                  description: Couldn't update account details
          description: ''
        '500':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                UnknownRequestError:
                  value:
                    summary: Couldn't update account details
                    detail: Request to Institution returned an error
                    type: UnknownRequestError
                    status_code: 500
                  description: Couldn't update account details
          description: ''
        '503':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                ServiceError:
                  value:
                    summary: Couldn't update account details
                    detail: Institution service unavailable
                    type: ServiceError
                    status_code: 503
                  description: Couldn't update account details
                ConnectionError:
                  value:
                    summary: Couldn't update account details
                    detail: Couldn't connect to Institution
                    type: ConnectionError
                    status_code: 503
                  description: Couldn't update account details
          description: ''
  /api/v2/accounts/{id}/transactions/:
    get:
      operationId: retrieve account transactions v2_2
      description: |-
        Access account transactions.

        Transactions will be returned in Berlin Group PSD2 format.
      parameters:
        - in: query
          name: date_from
          schema:
            type: string
            format: date
          examples:
            '2021-10-01':
              value: '2021-10-01'
              summary: '2021-10-01'
              description: ISO 8601 format date
        - in: query
          name: date_to
          schema:
            type: string
            format: date
          examples:
            '2021-12-30':
              value: '2021-12-30'
              summary: '2021-12-30'
              description: ISO 8601 format date
        - in: path
          name: id
          schema:
            type: string
            description: A UUID string identifying this account.
          required: true
      tags:
        - accounts
      responses:
        '200':
          description: sample transaction data
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                InvalidID:
                  value:
                    summary: Invalid Account ID
                    detail: $ACCOUNT_ID is not a valid UUID.
                    status_code: 400
                  summary: Invalid ID
                  description: Invalid Account ID
                DateRangeError:
                  value:
                    summary: Incorrect date range
                    detail: Starting date '2022-01-09' is greater than end date '2021-12-30'. When specifying date range, starting date must precede the end date
                    status_code: 400
                  summary: Date range error
                  description: Incorrect date range in query parameters
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccessExpiredError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Access has expired or it has been revoked. To restore access reconnect the account.
                    type: AccessExpiredError
                    status_code: 401
                  description: Couldn't update account transactions
                AccountInactiveError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Account has been deactivated or it no longer exists.
                    type: AccountInactiveError
                    status_code: 401
                  description: Couldn't update account transactions
                FailedAuthentication:
                  value:
                    summary: Couldn't update account transactions
                    detail: SSN Verification has failed
                    type: FailedAuthentication
                    status_code: 401
                  description: Couldn't update account transactions
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountEUAScopeError:
                  value:
                    summary: End User Agreement (EUA) access scope error
                    detail: EUA doesn't allow access to account transactions. Check EUA access scope. Or create new EUA with correct access scope
                    status_code: 403
                  summary: Account EUA scope error
                  description: EUA doesn't allow access to account transactions.
                AccountValidEUAError:
                  value:
                    summary: No valid End User Agreement
                    error: Account exists but there is no valid End User Agreement permitting you to access it
                    status_code: 403
                  summary: Account valid EUA error
                  description: Account has no valid End User Agreement
                AccountAccessForbidden:
                  value:
                    summary: Couldn't update account transactions
                    detail: Access to account is forbidden. The user might not have the necessary permissions.
                    type: AccountAccessForbidden
                    status_code: 403
                  description: Couldn't update account transactions
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
                AccountNotFoundError:
                  value:
                    summary: 'Account: $ACC_ID not found'
                    detail: ''
                    status_code: 404
                  summary: Account not found error
                  description: Account not found
          description: ''
        '409':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountSuspendedError:
                  value:
                    summary: Account suspended
                    detail: This account or its requisition was suspended due to numerous errors that occurred while accessing it.
                    status_code: 409
                  summary: Account suspended error
                  description: Account or its requisition suspended
                AccountStateError:
                  value:
                    id: 3fa85f64-5717-4562-b3fc-2c963f66afa6
                    created: '2021-12-30T15:10:58.650342Z'
                    last_accessed: '2021-12-30T15:10:58.650348Z'
                    iban: string
                    aspsp_identifier: string
                    status: ERROR
                  summary: Account state error
                  description: Account state does not support this operation
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                RateLimitError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Daily request limit set by the Institution has been exceeded.
                    type: RateLimitError
                    status_code: 429
                  description: Couldn't update account transactions
          description: ''
        '500':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                UnknownRequestError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Request to Institution returned an error
                    type: UnknownRequestError
                    status_code: 500
                  description: Couldn't update account transactions
          description: ''
        '503':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                ServiceError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Institution service unavailable
                    type: ServiceError
                    status_code: 503
                  description: Couldn't update account transactions
                ConnectionError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Couldn't connect to Institution
                    type: ConnectionError
                    status_code: 503
                  description: Couldn't update account transactions
          description: ''
  /api/v2/accounts/premium/{id}/balances/:
    get:
      operationId: retrieve account balances v2
      description: Access account premium balances.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - premium
      responses:
        '200':
          description: No response body
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                InvalidID:
                  value:
                    summary: Invalid Account ID
                    detail: $ACCOUNT_ID is not a valid UUID.
                    status_code: 400
                  summary: Invalid ID
                  description: Invalid Account ID
                DateRangeError:
                  value:
                    summary: Incorrect date range
                    detail: Starting date '2022-01-09' is greater than end date '2021-12-30'. When specifying date range, starting date must precede the end date
                    status_code: 400
                  summary: Date range error
                  description: Incorrect date range in query parameters
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccessExpiredError:
                  value:
                    summary: Couldn't update account balances
                    detail: Access has expired or it has been revoked. To restore access reconnect the account.
                    type: AccessExpiredError
                    status_code: 401
                  description: Couldn't update account balances
                AccountInactiveError:
                  value:
                    summary: Couldn't update account balances
                    detail: Account has been deactivated or it no longer exists.
                    type: AccountInactiveError
                    status_code: 401
                  description: Couldn't update account balances
                FailedAuthentication:
                  value:
                    summary: Couldn't update account balances
                    detail: SSN Verification has failed
                    type: FailedAuthentication
                    status_code: 401
                  description: Couldn't update account balances
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountEUAScopeError:
                  value:
                    summary: End User Agreement (EUA) access scope error
                    detail: EUA doesn't allow access to account balances. Check EUA access scope. Or create new EUA with correct access scope
                    status_code: 403
                  summary: Account EUA scope error
                  description: EUA doesn't allow access to account balances.
                AccountValidEUAError:
                  value:
                    summary: No valid End User Agreement
                    error: Account exists but there is no valid End User Agreement permitting you to access it
                    status_code: 403
                  summary: Account valid EUA error
                  description: Account has no valid End User Agreement
                AccountAccessForbidden:
                  value:
                    summary: Couldn't update account balances
                    detail: Access to account is forbidden. The user might not have the necessary permissions.
                    type: AccountAccessForbidden
                    status_code: 403
                  description: Couldn't update account balances
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
                AccountNotFoundError:
                  value:
                    summary: 'Account: $ACC_ID not found'
                    detail: ''
                    status_code: 404
                  summary: Account not found error
                  description: Account not found
          description: ''
        '409':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountSuspendedError:
                  value:
                    summary: Account suspended
                    detail: This account or its requisition was suspended due to numerous errors that occurred while accessing it.
                    status_code: 409
                  summary: Account suspended error
                  description: Account or its requisition suspended
                AccountStateError:
                  value:
                    id: 3fa85f64-5717-4562-b3fc-2c963f66afa6
                    created: '2021-12-30T15:10:58.650342Z'
                    last_accessed: '2021-12-30T15:10:58.650348Z'
                    iban: string
                    aspsp_identifier: string
                    status: ERROR
                  summary: Account state error
                  description: Account state does not support this operation
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                RateLimitError:
                  value:
                    summary: Couldn't update account balances
                    detail: Daily request limit set by the Institution has been exceeded.
                    type: RateLimitError
                    status_code: 429
                  description: Couldn't update account balances
          description: ''
        '500':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                UnknownRequestError:
                  value:
                    summary: Couldn't update account balances
                    detail: Request to Institution returned an error
                    type: UnknownRequestError
                    status_code: 500
                  description: Couldn't update account balances
          description: ''
        '503':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                ServiceError:
                  value:
                    summary: Couldn't update account balances
                    detail: Institution service unavailable
                    type: ServiceError
                    status_code: 503
                  description: Couldn't update account balances
                ConnectionError:
                  value:
                    summary: Couldn't update account balances
                    detail: Couldn't connect to Institution
                    type: ConnectionError
                    status_code: 503
                  description: Couldn't update account balances
          description: ''
  /api/v2/accounts/premium/{id}/details/:
    get:
      operationId: retrieve account details v2
      description: Access account premium details.
      parameters:
        - in: query
          name: country
          schema:
            type: string
          description: ISO 3166 two-character country code
          examples:
            Germany:
              value: DE
              summary: Germany
              description: ISO 3166 two-character code for Germany
            UnitedKingdom:
              value: GB
              summary: United Kingdom
              description: ISO 3166 two-character code for the UK
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - premium
      responses:
        '200':
          description: No response body
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                InvalidID:
                  value:
                    summary: Invalid Account ID
                    detail: $ACCOUNT_ID is not a valid UUID.
                    status_code: 400
                  summary: Invalid ID
                  description: Invalid Account ID
                DateRangeError:
                  value:
                    summary: Incorrect date range
                    detail: Starting date '2022-01-09' is greater than end date '2021-12-30'. When specifying date range, starting date must precede the end date
                    status_code: 400
                  summary: Date range error
                  description: Incorrect date range in query parameters
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccessExpiredError:
                  value:
                    summary: Couldn't update account details
                    detail: Access has expired or it has been revoked. To restore access reconnect the account.
                    type: AccessExpiredError
                    status_code: 401
                  description: Couldn't update account details
                AccountInactiveError:
                  value:
                    summary: Couldn't update account details
                    detail: Account has been deactivated or it no longer exists.
                    type: AccountInactiveError
                    status_code: 401
                  description: Couldn't update account details
                FailedAuthentication:
                  value:
                    summary: Couldn't update account details
                    detail: SSN Verification has failed
                    type: FailedAuthentication
                    status_code: 401
                  description: Couldn't update account details
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountEUAScopeError:
                  value:
                    summary: End User Agreement (EUA) access scope error
                    detail: EUA doesn't allow access to account details. Check EUA access scope. Or create new EUA with correct access scope
                    status_code: 403
                  summary: Account EUA scope error
                  description: EUA doesn't allow access to account details.
                AccountValidEUAError:
                  value:
                    summary: No valid End User Agreement
                    error: Account exists but there is no valid End User Agreement permitting you to access it
                    status_code: 403
                  summary: Account valid EUA error
                  description: Account has no valid End User Agreement
                AccountAccessForbidden:
                  value:
                    summary: Couldn't update account details
                    detail: Access to account is forbidden. The user might not have the necessary permissions.
                    type: AccountAccessForbidden
                    status_code: 403
                  description: Couldn't update account details
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
                AccountNotFoundError:
                  value:
                    summary: 'Account: $ACC_ID not found'
                    detail: ''
                    status_code: 404
                  summary: Account not found error
                  description: Account not found
          description: ''
        '409':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountSuspendedError:
                  value:
                    summary: Account suspended
                    detail: This account or its requisition was suspended due to numerous errors that occurred while accessing it.
                    status_code: 409
                  summary: Account suspended error
                  description: Account or its requisition suspended
                AccountStateError:
                  value:
                    id: 3fa85f64-5717-4562-b3fc-2c963f66afa6
                    created: '2021-12-30T15:10:58.650342Z'
                    last_accessed: '2021-12-30T15:10:58.650348Z'
                    iban: string
                    aspsp_identifier: string
                    status: ERROR
                  summary: Account state error
                  description: Account state does not support this operation
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                RateLimitError:
                  value:
                    summary: Couldn't update account details
                    detail: Daily request limit set by the Institution has been exceeded.
                    type: RateLimitError
                    status_code: 429
                  description: Couldn't update account details
          description: ''
        '500':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                UnknownRequestError:
                  value:
                    summary: Couldn't update account details
                    detail: Request to Institution returned an error
                    type: UnknownRequestError
                    status_code: 500
                  description: Couldn't update account details
          description: ''
        '503':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                ServiceError:
                  value:
                    summary: Couldn't update account details
                    detail: Institution service unavailable
                    type: ServiceError
                    status_code: 503
                  description: Couldn't update account details
                ConnectionError:
                  value:
                    summary: Couldn't update account details
                    detail: Couldn't connect to Institution
                    type: ConnectionError
                    status_code: 503
                  description: Couldn't update account details
          description: ''
  /api/v2/accounts/premium/{id}/transactions/:
    get:
      operationId: retrieve account transactions v2
      description: Access account premium transactions.
      parameters:
        - in: query
          name: country
          schema:
            type: string
          description: ISO 3166 two-character country code
          examples:
            Germany:
              value: DE
              summary: Germany
              description: ISO 3166 two-character code for Germany
            UnitedKingdom:
              value: GB
              summary: United Kingdom
              description: ISO 3166 two-character code for the UK
        - in: query
          name: date_from
          schema:
            type: string
            format: date
          examples:
            '2021-10-01':
              value: '2021-10-01'
              summary: '2021-10-01'
              description: ISO 8601 format date
        - in: query
          name: date_to
          schema:
            type: string
            format: date
          examples:
            '2021-12-30':
              value: '2021-12-30'
              summary: '2021-12-30'
              description: ISO 8601 format date
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - premium
      responses:
        '200':
          description: No response body
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                InvalidID:
                  value:
                    summary: Invalid Account ID
                    detail: $ACCOUNT_ID is not a valid UUID.
                    status_code: 400
                  summary: Invalid ID
                  description: Invalid Account ID
                DateRangeError:
                  value:
                    summary: Incorrect date range
                    detail: Starting date '2022-01-09' is greater than end date '2021-12-30'. When specifying date range, starting date must precede the end date
                    status_code: 400
                  summary: Date range error
                  description: Incorrect date range in query parameters
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccessExpiredError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Access has expired or it has been revoked. To restore access reconnect the account.
                    type: AccessExpiredError
                    status_code: 401
                  description: Couldn't update account transactions
                AccountInactiveError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Account has been deactivated or it no longer exists.
                    type: AccountInactiveError
                    status_code: 401
                  description: Couldn't update account transactions
                FailedAuthentication:
                  value:
                    summary: Couldn't update account transactions
                    detail: SSN Verification has failed
                    type: FailedAuthentication
                    status_code: 401
                  description: Couldn't update account transactions
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountEUAScopeError:
                  value:
                    summary: End User Agreement (EUA) access scope error
                    detail: EUA doesn't allow access to account transactions. Check EUA access scope. Or create new EUA with correct access scope
                    status_code: 403
                  summary: Account EUA scope error
                  description: EUA doesn't allow access to account transactions.
                AccountValidEUAError:
                  value:
                    summary: No valid End User Agreement
                    error: Account exists but there is no valid End User Agreement permitting you to access it
                    status_code: 403
                  summary: Account valid EUA error
                  description: Account has no valid End User Agreement
                AccountAccessForbidden:
                  value:
                    summary: Couldn't update account transactions
                    detail: Access to account is forbidden. The user might not have the necessary permissions.
                    type: AccountAccessForbidden
                    status_code: 403
                  description: Couldn't update account transactions
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
                AccountNotFoundError:
                  value:
                    summary: 'Account: $ACC_ID not found'
                    detail: ''
                    status_code: 404
                  summary: Account not found error
                  description: Account not found
          description: ''
        '409':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AccountSuspendedError:
                  value:
                    summary: Account suspended
                    detail: This account or its requisition was suspended due to numerous errors that occurred while accessing it.
                    status_code: 409
                  summary: Account suspended error
                  description: Account or its requisition suspended
                AccountStateError:
                  value:
                    id: 3fa85f64-5717-4562-b3fc-2c963f66afa6
                    created: '2021-12-30T15:10:58.650342Z'
                    last_accessed: '2021-12-30T15:10:58.650348Z'
                    iban: string
                    aspsp_identifier: string
                    status: ERROR
                  summary: Account state error
                  description: Account state does not support this operation
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                RateLimitError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Daily request limit set by the Institution has been exceeded.
                    type: RateLimitError
                    status_code: 429
                  description: Couldn't update account transactions
          description: ''
        '500':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                UnknownRequestError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Request to Institution returned an error
                    type: UnknownRequestError
                    status_code: 500
                  description: Couldn't update account transactions
          description: ''
        '503':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                ServiceError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Institution service unavailable
                    type: ServiceError
                    status_code: 503
                  description: Couldn't update account transactions
                ConnectionError:
                  value:
                    summary: Couldn't update account transactions
                    detail: Couldn't connect to Institution
                    type: ConnectionError
                    status_code: 503
                  description: Couldn't update account transactions
          description: ''
  /api/v2/agreements/enduser/:
    get:
      operationId: retrieve all EUAs for an end user v2
      description: API endpoints related to end-user agreements.
      parameters:
        - name: limit
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - name: offset
          required: false
          in: query
          description: The initial index from which to return the results.
          schema:
            type: integer
      tags:
        - agreements
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedEndUserAgreementList'
          description: Retrieve all enduser agreements
    post:
      operationId: create EUA v2
      description: API endpoints related to end-user agreements.
      tags:
        - agreements
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EndUserAgreement'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EndUserAgreement'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EndUserAgreement'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EndUserAgreement'
          description: Create enduser agreement
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                InstitutionFieldErrors:
                  value:
                    institution_id:
                      summary: Unknown Institution ID $INSTITUTION_ID
                      detail: Get Institution IDs from /institutions/?country={$COUNTRY_CODE}
                    status_code: 400
                  summary: Institution field errors
                  description: Errors related to 'institution' field.
                AccessScopeFieldErrors:
                  value:
                    access_scope:
                      - summary: Unknown value '$SCOPE' in access_scope
                        detail: Choose one or several from ['balances', 'details', 'transactions']
                      - summary: Aspsp access scope dependencies error
                        detail: For this ASPSP you have to select both ['details', 'balances'] in access_scope
                    status_code: 400
                  summary: Access scope field errors
                  description: Errors related to 'access_scope' field.
                MaxHistoricalDaysFieldErrors:
                  value:
                    max_historical_days:
                      - summary: Incorrect max_historical_days
                        detail: max_historical_days must be > 0 and <= N26_NTSBDEB1 transaction_total_days (730)
                    status_code: 400
                  summary: Max historical days field errors
                  description: Errors related to 'max_historical_days' field.
                AccessValidForDaysFieldErrors:
                  value:
                    access_valid_for_days:
                      - summary: Incorrect access_valid_for_days
                        detail: access_valid_for_days must be > 0 and <= 90
                    status_code: 400
                  summary: Access valid for days field errors
                  description: Errors related to 'access_valid_for_days' field.
          description: ''
  /api/v2/agreements/enduser/{id}/:
    get:
      operationId: retrieve EUA by id v2
      description: API endpoints related to end-user agreements.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          description: A UUID string identifying this end user agreement.
          required: true
      tags:
        - agreements
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EndUserAgreement'
          description: Retrieve enduser agreement by id
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
          description: ''
    delete:
      operationId: delete EUA by id v2
      description: Delete End User Agreement.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          description: A UUID string identifying this end user agreement.
          required: true
      tags:
        - agreements
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                EuaDeleted:
                  value:
                    summary: End User Agreement deleted
                    detail: End User Agreement '$EUA_ID' deleted
                  summary: Eua Deleted
                  description: EUA is deleted
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                CannotDeleteEUA:
                  value:
                    summary: Cannot delete End User Agreement
                    detail: 'Cannot delete accepted End User Agreement: $EUA_ID. Only non accepted agreements can be deleted'
                    status_code: 400
                  summary: Cannot delete EUA
                  description: Cannot delete End User Agreement
                InvalidID:
                  value:
                    summary: Invalid ID
                    detail: foo-bar-baz is not a valid UUID.
                    status_code: 400
                  summary: Invalid ID
                  description: Invalid ID
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
          description: ''
  /api/v2/agreements/enduser/{id}/accept/:
    put:
      operationId: accept EUA
      description: Accept an end-user agreement via the API.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          description: A UUID string identifying this end user agreement.
          required: true
      tags:
        - agreements
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnduserAcceptanceDetails'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EnduserAcceptanceDetails'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EnduserAcceptanceDetails'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EndUserAgreement'
          description: EUA
  /api/v2/institutions/:
    get:
      operationId: retrieve all supported Institutions in a given country
      description: List all available institutions
      parameters:
        - in: query
          name: country
          schema:
            type: string
          description: ISO 3166 two-character country code
          required: true
          examples:
            Germany:
              value: DE
              summary: Germany
              description: ISO 3166 two-character code for Germany
            UnitedKingdom:
              value: GB
              summary: United Kingdom
              description: ISO 3166 two-character code for the UK
      tags:
        - institutions
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Aspsp'
              examples:
                SomeOfSupportedInstitutions:
                  value:
                    - id: N26_NTSBDEB1
                      name: N26 Bank
                      bic: NTSBDEB1
                      transaction_total_days: '90'
                      countries:
                        - 'NO'
                        - SE
                        - FI
                        - DK
                        - EE
                        - LV
                        - LT
                        - GB
                        - NL
                        - CZ
                        - ES
                        - PL
                        - BE
                        - DE
                        - AT
                        - BG
                        - HR
                        - CY
                        - FR
                        - GR
                        - HU
                        - IS
                        - IE
                        - IT
                        - LI
                        - LU
                        - MT
                        - PT
                        - RO
                        - SK
                        - SI
                      logo: https://cdn.nordigen.com/ais/N26_SANDBOX_NTSBDEB1.png
                    - id: ABNAMRO_FTSBDEFAXXX
                      name: ABN AMRO Bank Commercial
                      bic: FTSBDEFAXXX
                      transaction_total_days: '558'
                      countries:
                        - DE
                      logo: https://cdn.nordigen.com/ais/ABNAMRO_FTSBDEFAXXX.png
                  summary: some of supported Institutions
                  description: some of supported Institutions
          description: list of supported Institutions in the country
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                UnknownFields:
                  value:
                    summary: Unknown fields
                    detail: Unknown fields {${FIELD}} in payload
                    status_code: 400
                  summary: Unknown Fields
                  description: Unknown Fields
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                CountryParameterErrors:
                  value:
                    summary: Country not permitted
                    detail: You do not have permission to access 'KP'
                    status_code: 403
                  summary: Country parameter errors
                  description: Errors related to 'Country' parameter.
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
          description: ''
  /api/v2/institutions/{id}/:
    get:
      operationId: retrieve institution
      description: Get details about a specific Institution
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
          examples:
            N26:
              value: N26_NTSBDEB1
              summary: N26
              description: Nordigen's Institution ID for N26
      tags:
        - institutions
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Aspsp'
              examples:
                N26Bank:
                  value:
                    id: N26_NTSBDEB1
                    name: N26 Bank
                    bic: NTSBDEB1
                    transaction_total_days: '90'
                    countries:
                      - 'NO'
                      - SE
                      - FI
                      - DK
                      - EE
                      - LV
                      - LT
                      - GB
                      - NL
                      - CZ
                      - ES
                      - PL
                      - BE
                      - DE
                      - AT
                      - BG
                      - HR
                      - CY
                      - FR
                      - GR
                      - HU
                      - IS
                      - IE
                      - IT
                      - LI
                      - LU
                      - MT
                      - PT
                      - RO
                      - SK
                      - SI
                    logo: https://cdn.nordigen.com/ais/N26_SANDBOX_NTSBDEB1.png
                  summary: N26 Bank
                  description: N26 Bank
                ABNAMROBank:
                  value:
                    id: ABNAMRO_FTSBDEFAXXX
                    name: ABN AMRO Bank Commercial
                    bic: FTSBDEFAXXX
                    transaction_total_days: '558'
                    countries:
                      - DE
                    logo: https://cdn.nordigen.com/ais/ABNAMRO_FTSBDEFAXXX.png
                  summary: ABN AMRO Bank
                  description: ABN AMRO Bank
          description: Retrieve institution by id
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
          description: ''
  /api/v2/requisitions/:
    get:
      operationId: retrieve all requisitions
      description: API endpoints related to requisitions.
      parameters:
        - name: limit
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - name: offset
          required: false
          in: query
          description: The initial index from which to return the results.
          schema:
            type: integer
      tags:
        - requisitions
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedRequisitionV2List'
          description: retrieve all requisitions
    post:
      operationId: requisition created
      description: API endpoints related to requisitions.
      tags:
        - requisitions
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequisitionV2'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RequisitionV2'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RequisitionV2'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpectacularRequisitionV2'
          description: Requisition has been succesfully created
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                ReferenceFieldErrors:
                  value:
                    reference:
                      summary: Client Reference must be unique
                      detail: 'Client Reference: $REFERENCE_ID already exists'
                    status_code: 400
                  summary: Reference field errors
                  description: Errors related to 'reference' field.
                UserLanguageFieldErrors:
                  value:
                    user_language:
                      summary: Provided user_language is invalid or not supported
                      detail: '''$LNG_CODE'' is invalid or not supported language'
                    status_code: 400
                  summary: User language field errors
                  description: Errors related to 'user_language' field.
                AgreementFieldErrors:
                  value:
                    agreement:
                      - summary: Unknown Institution ID $ASPSP_ID
                        detail: Get Institution IDs from /institutions/?country={$COUNTRY_CODE}
                      - summary: Invalid EndUserAgreement ID
                        detail: $AGREEMENT_ID is not a valid UUID. Please specify valid agreement from /api/agreements/enduser/?={$ENDUSER_ID} or create a new one
                    status_code: 400
                  summary: Agreement field errors
                  description: Errors related to 'agreement' field.
                RedirectFieldErrors:
                  value:
                    redirect:
                      - summary: Redirect URL is required
                        detail: Where an end user will be redirected after finishing authentication in ASPSP
                      - summary: Invalid redirect URI
                        detail: Redirect URI must have a valid URI structure
                    status_code: 400
                  summary: Redirect field errors
                  description: Errors related to 'redirect' field.
                SSNFieldErrors:
                  value:
                    ssn:
                      summary: SSN verification is not supported
                      detail: SSN verification is not supported for $INSTITUTION_ID
                    status_code: 400
                  summary: SSN field errors
                  description: Errors related to 'ssn' field.
                AccountSelectionFieldErrors:
                  value:
                    account_selection:
                      summary: Account selection is not supported
                      detail: Account selection is not supported for $INSTITUTION_ID
                    status_code: 400
                  summary: Account selection field errors
                  description: Errors related to 'account_selection' field.
                InstitutionFieldErrors:
                  value:
                    institution_id:
                      summary: Unknown Institution ID $INSTITUTION_ID
                      detail: Get Institution IDs from /institutions/?country={$COUNTRY_CODE}
                    status_code: 400
                  summary: Institution field errors
                  description: Errors related to 'institution' field.
                UnknownFields:
                  value:
                    summary: Unknown fields
                    detail: Unknown fields {${FIELD}} in payload
                    status_code: 400
                  summary: Unknown Fields
                  description: Unknown Fields
                FieldsRequired:
                  value:
                    redirect:
                      - This field is required.
                    institution_id:
                      - This field is required.
                    status_code: 400
                  summary: Fields required
                  description: Field is required
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AgreementNotFoundErrors:
                  value:
                    agreement:
                      summary: 'Agreement: $AGREEMENT_ID not found'
                      detail: Please specify valid agreement from /agreements/enduser/?={enduser_id} or create a new one
                    status_code: 404
                  summary: Agreement not found errors
                  description: Errors related to 'agreement' field.
          description: ''
  /api/v2/requisitions/{id}/:
    get:
      operationId: requisition by id
      description: API endpoints related to requisitions.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          description: A UUID string identifying this requisition.
          required: true
      tags:
        - requisitions
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RequisitionV2'
          description: Get requisition by id
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
          description: ''
    delete:
      operationId: delete requisition by id v2
      description: Delete Requisition and all End User Agreements.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          description: A UUID string identifying this requisition.
          required: true
      tags:
        - requisitions
      responses:
        '200':
          description: requisition has been deleted
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                InvalidID:
                  value:
                    summary: Invalid ID
                    detail: foo-bar-baz is not a valid UUID.
                    status_code: 400
                  summary: Invalid ID
                  description: Invalid ID
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                NotFoundError:
                  value:
                    detail: Not found.
                    status_code: 404
                  summary: Not found error
                  description: Not found error
          description: ''
  /api/v2/token/new/:
    post:
      operationId: JWT Obtain
      description: Obtain JWT pair
      tags:
        - token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JWTObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/JWTObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/JWTObtainPair'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpectacularJWTObtain'
          description: Obtain JWT response.
        '401':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                AuthenticationFailed:
                  value:
                    summary: Authentication failed
                    detail: No active account found with the given credentials
                    status_code: 401
                  summary: Authentication failed
                  description: Incorrect secret key or id
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                IPAccessDenied:
                  value:
                    summary: IP address access denied
                    detail: Your IP $IP_ADDRESS isn't whitelisted to perform this action
                    status_code: 403
                  summary: IP Access denied
                  description: IP address not whitelisted
          description: ''
  /api/v2/token/refresh/:
    post:
      operationId: JWT Refresh
      description: Refresh access token
      tags:
        - token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JWTRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/JWTRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/JWTRefresh'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpectacularJWTRefresh'
          description: Refresh access token.
        '401':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                InvalidToken:
                  value:
                    summary: Invalid token
                    detail: Token is invalid or expired
                    status_code: 401
                  summary: Invalid token
                  description: Token is invalid or expired
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: { }
              examples:
                IPAccessDenied:
                  value:
                    summary: IP address access denied
                    detail: Your IP $IP_ADDRESS isn't whitelisted to perform this action
                    status_code: 403
                  summary: IP Access denied
                  description: IP address not whitelisted
          description: ''
components:
  schemas:
    AccountV2:
      type: object
      description: AccountV2Serializer.
      properties:
        id:
          type: string
          readOnly: true
          description: The ID of this Account, used to refer to this account in other API calls.
          title: Account ID
        created:
          type: string
          format: date-time
          readOnly: true
          title: Created date/time
          description: The date & time at which the account object was created.
        last_accessed:
          type: string
          format: date-time
          nullable: true
          readOnly: true
          title: Last accessed date/time
          description: The date & time at which the account object was last accessed.
        iban:
          type: string
          readOnly: true
          description: The Account IBAN
        institution_id:
          type: string
          readOnly: true
          title: ASPSP ID
          description: The ASPSP associated with this account.
        status:
          allOf:
            - $ref: '#/components/schemas/AccountV2StatusEnum'
          readOnly: true
          title: Account Status
          description: The processing status of this account.
    AccountV2StatusEnum:
      enum:
        - DISCOVERED
        - PROCESSING
        - ERROR
        - EXPIRED
        - READY
        - SUSPENDED
      type: string
    Aspsp:
      type: object
      description: Represents an ASPSP.
      properties:
        id:
          type: string
        name:
          type: string
        bic:
          type: string
        transaction_total_days:
          type: string
          default: '90'
        countries:
          type: array
          items:
            type: string
        logo:
          type: string
      required:
        - countries
        - id
        - logo
        - name
    EndUserAgreement:
      type: object
      description: EndUserAgreement.
      properties:
        id:
          type: string
          readOnly: true
          title: End User Agreement ID
          description: The ID of this End User Agreement, used to refer to this end user agreement in other API calls.
        created:
          type: string
          format: date-time
          readOnly: true
          title: Created Date
          description: The date & time at which the end user agreement was created.
        max_historical_days:
          type: integer
          maximum: 730
          minimum: 1
          default: 90
          title: Maximum Historical Days
          description: Maximum number of days of transaction data to retrieve.
        access_valid_for_days:
          type: integer
          maximum: 90
          minimum: 1
          default: 90
          title: Access Valid For (Days)
          description: Number of days from acceptance that the access can be used.
        access_scope:
          type: array
          items:
            type: string
            default:
              - balances
              - details
              - transactions
            title: Level of information to access (by default all)
          default:
            - balances
            - details
            - transactions
          title: Level of information to access (by default all)
          description: Array containing one or several values of ['balances', 'details', 'transactions']
        accepted:
          type: string
          format: date-time
          nullable: true
          readOnly: true
          title: Accepted Date
          description: The date & time at which the end user accepted the agreement.
        institution_id:
          type: string
          description: an Institution ID for this EUA
      required:
        - institution_id
    EnduserAcceptanceDetails:
      type: object
      description: Represents end-user details.
      properties:
        user_agent:
          type: string
          title: user agent string for the end user
        ip_address:
          type: string
          title: end user IP address
      required:
        - ip_address
        - user_agent
    JWTObtainPair:
      type: object
      description: Obtain JWT pair.
      properties:
        secret_id:
          type: string
          description: Secret id from /user-secrets/
        secret_key:
          type: string
          description: Secret key from /user-secrets/
      required:
        - secret_id
        - secret_key
    JWTRefresh:
      type: object
      description: Refresh access token.
      properties:
        refresh:
          type: string
        access:
          type: string
          readOnly: true
      required:
        - refresh
    PaginatedEndUserAgreementList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          example: https://ob.nordigen.com/api/v2/agreements/enduser/?limit=100&offset=0
        previous:
          type: string
          nullable: true
          example: https://ob.nordigen.com/api/v2/agreements/enduser/?limit=100&offset=0
        results:
          type: array
          items:
            $ref: '#/components/schemas/EndUserAgreement'
    PaginatedRequisitionV2List:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          example: https://ob.nordigen.com/api/v2/requisitions/?limit=100&offset=0
        previous:
          type: string
          nullable: true
          example: https://ob.nordigen.com/api/v2/requisitions/?limit=100&offset=0
        results:
          type: array
          items:
            $ref: '#/components/schemas/RequisitionV2'
    RequisitionLinkParams:
      type: object
      description: RequisitionLinkParamsSerializer.
      properties:
        aspsp_id:
          type: string
          description: ASPSP ID. Should match one used while creating EUA, if it's linked to this requisition
      required:
        - aspsp_id
    RequisitionLinks:
      type: object
      description: RequisitionLinksSerializer.
      properties:
        initiate:
          type: string
          readOnly: true
    RequisitionV2:
      type: object
      description: Get requisition by id.
      properties:
        id:
          type: string
          readOnly: true
        created:
          type: string
          format: date-time
          nullable: true
          readOnly: true
          title: Created Date
          description: The date & time at which the requisition was created.
        redirect:
          type: string
          nullable: true
          description: redirect URL to your application after end-user authorization with ASPSP
        status:
          allOf:
            - $ref: '#/components/schemas/Status1c5Enum'
          title: Requisition status
          readOnly: true
          description: status of this requisition
        institution_id:
          type: string
          description: an Institution ID for this Requisition
        agreement:
          type: string
          description: EUA associated with this requisition
        reference:
          type: string
          description: additional ID to identify the end user
          maxLength: 256
        accounts:
          type: array
          items:
            type: string
            title: accounts
          readOnly: true
          description: array of account IDs retrieved within a scope of this requisition
        user_language:
          type: string
          description: A two-letter country code (ISO 639-1)
          maxLength: 5
        link:
          type: string
          readOnly: true
          default: https://ob.nordigen.com/psd2/start/3fa85f64-5717-4562-b3fc-2c963f66afa6/some_institution_id
          description: link to initiate authorization with Institution
        ssn:
          type: string
          description: optional SSN field to verify ownership of the account
          maxLength: 64
        account_selection:
          type: boolean
          default: false
          description: option to enable account selection view for the end user
      required:
        - institution_id
        - redirect
    SpectacularJWTObtain:
      type: object
      description: Obtain new JWT pair.
      properties:
        password:
          type: string
          writeOnly: true
        access:
          type: string
          readOnly: true
          description: Your access token
        access_expires:
          type: integer
          readOnly: true
          default: 86400
          description: Access token expires in seconds
        refresh:
          type: string
          readOnly: true
          description: Your refresh token
        refresh_expires:
          type: integer
          readOnly: true
          default: 2592000
          description: Refresh token expires in seconds
      required:
        - password
    SpectacularJWTRefresh:
      type: object
      description: Refresh Access token.
      properties:
        access:
          type: string
          readOnly: true
          description: Your access token
        access_expires:
          type: integer
          readOnly: true
          default: 86400
          description: Access token expires in seconds
    SpectacularRequisitionV2:
      type: object
      description: Create requisition.
      properties:
        id:
          type: string
          readOnly: true
        created:
          type: string
          format: date-time
          nullable: true
          readOnly: true
          title: Created Date
          description: The date & time at which the requisition was created.
        redirect:
          type: string
          nullable: true
          description: redirect URL to your application after end-user authorization with ASPSP
        status:
          allOf:
            - $ref: '#/components/schemas/Status1c5Enum'
          title: Requisition status
          readOnly: true
          description: status of this requisition
        institution_id:
          type: string
          description: an Institution ID for this Requisition
        agreement:
          type: string
          description: EUA associated with this requisition
        reference:
          type: string
          description: additional ID to identify the end user
          maxLength: 256
        accounts:
          type: array
          items: { }
          readOnly: true
          default: [ ]
          description: array of account IDs retrieved within a scope of this requisition
        user_language:
          type: string
          description: A two-letter country code (ISO 639-1)
          maxLength: 5
        link:
          type: string
          default: https://ob.nordigen.com/psd2/start/3fa85f64-5717-4562-b3fc-2c963f66afa6/some_institution_id
          description: link to initiate authorization with Institution
        ssn:
          type: string
          description: optional SSN field to verify ownership of the account
          maxLength: 64
        account_selection:
          type: boolean
          default: false
          description: option to enable account selection view for the end user
      required:
        - institution_id
        - redirect
    Status1c5Enum:
      enum:
        - CR
        - LN
        - EX
        - RJ
        - UA
        - GA
        - SA
        - GC
      type: string
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: Bearer
security:
  - jwtAuth: [ ]
servers:
  - url: https://ob.nordigen.com
